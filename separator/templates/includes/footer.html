{{ internal_domains|json_script:"internal-domains" }}
<footer>
    {% if 'wagtail' in INSTALLED_APPS %}
        {% include "includes/footer_laout.html" %}
    {% endif %}
    {% if SHOW_FOOTER_LINKS %}
    <a target="_blank" href="https://github.com/estvita/separator/blob/main/LICENSE" title="MIT License">
      <img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="MIT License"/>
    </a>
    <a target="_blank" href="https://github.com/estvita/separator" title="GitHub Separator">
      <img src="https://img.shields.io/github/stars/estvita/separator?style=social" alt="GitHub Stars">
    </a>
    <a target="_blank" href="https://gulin.kz">Anton Gulin</a>
    {% endif %}
    <script>
      window.addEventListener('DOMContentLoaded', () => {
        const internalDomains = JSON.parse(document.getElementById('internal-domains').textContent);
        document.querySelectorAll('a[href^="http"]').forEach(link => {
          try {
            const url = new URL(link.href);
            if (!internalDomains.includes(url.hostname)) {
              link.setAttribute("target", "_blank");
              link.setAttribute("rel", "nofollow noopener");
            } else {
              link.removeAttribute('target');
            }
          } catch (e) {}
        });
      });
    </script>
</footer>